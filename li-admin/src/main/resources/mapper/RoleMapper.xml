<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.liteiot.admin.modules.admin.mapper.RoleMapper">
    <resultMap id="BaseResultMap" type="com.liteiot.admin.modules.admin.entity.Role">
        <!--
          WARNING - @mbggenerated
        -->
        <id column="id" jdbcType="INTEGER" property="id"/>
        <result column="code" jdbcType="VARCHAR" property="code"/>
        <result column="name" jdbcType="VARCHAR" property="name"/>
        <result column="description" jdbcType="VARCHAR" property="description"/>
        <result column="crt_time" jdbcType="DATE" property="crtTime"/>
        <result column="crt_user" jdbcType="VARCHAR" property="crtUser"/>
        <result column="crt_name" jdbcType="VARCHAR" property="crtName"/>
        <result column="crt_host" jdbcType="VARCHAR" property="crtHost"/>
        <result column="upd_time" jdbcType="DATE" property="updTime"/>
        <result column="upd_user" jdbcType="VARCHAR" property="updUser"/>
        <result column="upd_name" jdbcType="VARCHAR" property="updName"/>
        <result column="upd_host" jdbcType="VARCHAR" property="updHost"/>
    </resultMap>

    <select id="findRolesByUserIdAndGroupId" resultMap="BaseResultMap">
        select id, name, code from base_role where id in (
        select role_id from group_user_role where user_id = #{userId} and group_id = #{groupId}
        )
    </select>

    <select id="findRoleByCode" resultType="com.liteiot.admin.modules.admin.entity.Role">
        select * from base_role where code like  concat('%' , #{code} , '%')
    </select>

    <!--<delete id="deleteGroupMembersById">-->
      <!--delete from base_group_member where group_id = #{groupId}-->
  <!--</delete>-->

    <!--<insert id="insertGroupMembersById">-->
    <!--insert into base_group_member (-->
       <!--group_id,user_id-->
    <!--)-->
    <!--values(-->
       <!--#{groupId},#{userId}-->
    <!--)-->
  <!--</insert>-->

</mapper>